
시간 제한 
 
30 개의 Test Input 입력시 C/C++ 2 초, Java 2.5 초
 

메모리 제한 
 
Stack : 1 Mbytes  /  Total : 256 Mbytes
 

코드길이 제한 
 
128 Kbytes
 

채점 
 
답안을 제출하면 Test Input에 대한 결과를 판정해서 실시간으로 알려준다.

모든 케이스에 대해 정답일 경우 Pass, 그 외의 경우 Fail 이다.
 

 

연아는 S Fashion 회사에 입사하게 되었다. S Fashion 회사에서 이번 여름을 맞이하여 특별 신상품을 선보였다.          

여름 신상품은 모자, 상의, 하의 각 1개씩으로 이루어진 세트 상품이며 패션쇼에서 극찬을 받으며 새로운 유행 돌풍을 일으킬 것으로 예측되었다.

S Fashion은 N개의 판매점을 가지고 있으며 1번부터 N번까지의 판매점 번호로 나타낸다.

이번 선보이는 신상품은 세트로만 판매되며, 상품 코드는 1(모자), 2(상의), 3(하의)으로 나타낸다. 

연아가 하는 일은 재고 및 판매 관리이다. 연아의 상사는 아래의 3가지 일을 연아에게 부탁한다.

 

[납품]

x번부터 y번 사이에(x≤y) 포함되는 모든 판매점에 상품코드가 k인 상품을 c개씩 납품한다.

 

[판매]           

x번 판매점으로 c개 세트 상품 판매 요청을 처리한다. x번 판매점에서 c개의 세트 상품을 판매할 수 있다면 c개를 판매하고, c개의 세트를 만들지 못한다면 만들 수 있는 모든 세트만 판매한다. 

 

[판매수량 조사]           

x번 판매점부터 y번 판매점까지 누적 판매된 세트의 수를 조사한다.          


아래의 예시를 살펴보자.

 

[납품] 1번 판매점부터 5번 판매점까지 1번 상품(모자)을 3개씩 납품한다.          

[납품] 2번 판매점부터 5번 판매점까지 2번 상품(상의)을 5개씩 납품한다.          

[납품] 1번 판매점부터 4번 판매점까지 3번 상품(하의)을 4개씩 납품한다.          

[납품] 1번 판매점부터 3번 판매점까지 2번 상품(상의)을 2개씩 납품한다.   

 

여기까지 상사가 연아에게 일을 부탁했다면,          

 

1번 판매점의 재고는 모자 3개, 상의 2개, 하의 4개 이고,          

2번 판매점의 재고는 모자 3개, 상의 7개, 하의 4개 이고,          

3번 판매점의 재고는 모자 3개, 상의 7개, 하의 4개 이고,          

4번 판매점의 재고는 모자 3개, 상의 5개, 하의 4개 이고,          

5번 판매점의 재고는 모자 3개, 상의 5개, 하의 0개 이다.

 

[판매] 3번 판매점으로 3개 세트 상품 판매 요청이 왔다면,          

3번 판매점에서 3개의 세트를 만들어 판매하였고,          

3번 판매점의 재고는 모자 0개, 상의 4개, 하의 1개가 된다.   

 

[판매] 5번 판매점으로 2개 세트 상품 판매 요청이 왔다면,          

5번 판매점에서 만들 수 있는 세트 상품은 없으므로 하나도 판매하지 못한다.

 

[판매] 1번 판매점으로 5개 세트 상품 판매 요청이 왔다면,          

1번 판매점에서 만들 수 있는 세트 상품은 2개이므로 2개의 세트만 판매하였고,          

1번 판매점의 재고는 모자 1개, 상의 0개, 하의 2개가 된다.   

 

[판매수량 조사] 1번 판매점부터 4번 판매점까지 누적 판매한 신상품 세트의 수를 요청했다면

3번 판매점에서 3개, 1번 판매점에서 2개가 누적판매 되었으므로 총 5개가 판매되었다.

 

판매점의 수, 상사의 명령 수 및 각 명령의 정보를 입력 받아 연아가 업무를 잘 처리할 수 있도록 프로그램을 만들어 주자.   


[제한사항]

1. 판매점의 수 N은 1 이상 100000 이하의 자연수다.

2. 상사의 명령 Q는 1 이상 100000 이하의 자연수다.

3. 입력으로 주어지는 납품 수량은 1 이상 100 이하의 자연수다.

4. 입력으로 주어지는 세트 상품 판매 요청 수량은 1 이상 10000000 이하의 자연수다.

5. 납품: 1 x y k c

   => x번 판매점부터 y번 판매점까지(x≤y) 순서대로 상품코드가 k인 상품을 c개씩 납품

6. 판매: 2 x c

   => x번 판매점으로 c개 세트 상품 판매 요청

7. 판매수량 조사: 3 x y 

   => x번 판매점부터 y번 판매점까지 누적 판매된 신상품 세트의 수량 조사

 

[입력]

맨 처음 테스트 케이스의 개수 T가 주어지며, 그 다음 줄부터 T개의 테스트 케이스가 주어진다.      

각 테스트 케이스의 첫 줄에는 판매점의 수 N과 상사의 명령의 수 Q가 공백으로 구분되어 주어진다.      

다음 Q개의 줄에 상사의 명령이 순서대로 주어진다. 입력되는 형식은 [제한사항]의 5 ~ 7번을 참고하시오.

 

[출력]   

각각의 테스트 케이스에 대하여 #x (x는 테스트 케이스 번호, 1부터 시작)을 출력하고 공백을 하나 둔 다음        

출력을 간단하게 하기 위해 판매수량 조사 명령으로 조사되는 결과의 합을 출력한다.


 

[입출력 예]

(입력)	
2 
5 8 
1 1 5 1 3 
1 2 5 2 5 
1 1 4 3 4 
1 1 3 2 2 
2 3 3 
2 5 2 
2 1 5 
3 1 4 
5 15 
1 1 4 1 9 
1 1 5 2 5 
1 1 5 3 5 
1 2 4 1 8 
1 2 4 2 8 
2 1 3 
3 1 1 
2 2 1 
2 4 7 
1 3 5 3 4 
3 4 5 
2 4 5 
2 3 15 
2 4 943 
3 4 4

 

(출력)	
#1 5 
#2 17

 

(sample_input.txt 에 대한 출력)	
#1 5 
#2 17 
#3 4 
#4 37 
#5 1583 
#6 81877 
#7 275960313 
#8 186777522396 
#9 9918473197248 
#10 3957607154009 

 
